"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[53],{5053:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(3396),i=n(9242),u=n(7139),c=n(7783),l=function(e){return(0,a.dD)("data-v-bfc34e7c"),e=e(),(0,a.Cn)(),e},r={id:"sheetMusicPage"},s={class:"header"},o=l((function(){return(0,a._)("p",{class:"title"},"指彈樂譜",-1)})),v={class:"select"},p=l((function(){return(0,a._)("option",{value:"1"},"難易度:簡單到難",-1)})),g=l((function(){return(0,a._)("option",{value:"2"},"難易度:難到簡單",-1)})),f=l((function(){return(0,a._)("option",{value:"3"},"熱門程度",-1)})),d=l((function(){return(0,a._)("option",{value:"4"},"最新上架",-1)})),h=[p,g,f,d],k={for:"search"},P={class:"music_cards"},y={class:"pages_box"},M={class:"pages"},w=["onClick"];function D(e,t,n,l,p,g){var f=(0,a.up)("MusicCard"),d=(0,a.up)("MusicDetailPopup");return(0,a.wg)(),(0,a.iD)("section",r,[(0,a._)("div",s,[o,(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.musicKind=e})},h,512),[[i.bM,l.musicKind]])]),(0,a._)("label",k,[(0,a.Uk)("樂譜搜尋 "),(0,a.wy)((0,a._)("input",{type:"text",id:"search","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.searchInput=e}),onKeypress:t[2]||(t[2]=(0,i.D2)((function(){return l.getMusic&&l.getMusic.apply(l,arguments)}),["enter"]))},null,544),[[i.nr,l.searchInput]]),(0,a.Wm)(c.t,{icon:"mdi-magnify",class:"icon",onClick:l.getMusic},null,8,["onClick"])])]),(0,a._)("div",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.allMusic,(function(e){return(0,a.wg)(),(0,a.j4)(f,{key:e.sheetid,music:e,onOpenMusicDetail:l.openMusicDetail},null,8,["music","onOpenMusicDetail"])})),128))]),(0,a.Wm)(d,{data:l.musicDetail,onCloseMusicDetail:l.openMusicDetail},null,8,["data","onCloseMusicDetail"]),(0,a._)("div",y,[(0,a._)("div",M,[l.activePage>=2?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=function(e){return l.changeActivePage(l.activePage-1)})}," 上一頁 ")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.pagesArr[l.activePagesArr],(function(e){return(0,a.wg)(),(0,a.iD)("button",{type:"button",key:e,class:(0,u.C_)({active:l.activePage===e}),onClick:function(t){return l.changeActivePage(e)}},(0,u.zw)(e),11,w)})),128)),l.activePage<l.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",onClick:t[4]||(t[4]=function(e){return l.changeActivePage(l.activePage+1)})}," 下一頁 ")):(0,a.kq)("",!0),l.activePage<l.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:2,type:"button",onClick:t[5]||(t[5]=function(e){return l.changeActivePage(l.totalPages)})}," 最後 ")):(0,a.kq)("",!0)]),l.activePage<l.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",class:"loadBtn",onClick:t[6]||(t[6]=function(e){return l.changeActivePage(l.activePage+1)})}," 載入更多 ")):(0,a.kq)("",!0)])])}var b=n(124),m=n(8534),_=(n(7658),n(1038),n(8783),n(7042),n(7421)),C=n(6850),H=n(4870),A=n(65);const Z={components:{MusicCard:_.Z,MusicDetailPopup:C.Z},setup:function(){var e=(0,A.oR)(),t=(0,H.iH)([]),n=(0,H.iH)({}),i=(0,H.iH)(!1),u=(0,H.iH)("1"),c=(0,H.iH)(9),l=(0,H.iH)(""),r=(0,H.iH)(0),s=(0,H.iH)(0),o=(0,H.iH)([]),v=(0,H.iH)(0),p=(0,H.iH)(1);function g(){return f.apply(this,arguments)}function f(){return f=(0,m.Z)((0,b.Z)().mark((function n(){var a,i,s;return(0,b.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.dispatch("getAllMusic",{pageSize:c.value,kind:u.value,page:p.value,keywords:l.value});case 2:for(a=n.sent,t.value=a.SheetInfo,r.value=a.totalpage,l.value="",i=[],s=1;s<=r.value;s++)i.push(s);Array.from({length:Math.ceil(r.value/5)},(function(e,t){var n=5*t,a=5*(t+1);o.value.push(i.slice(n,a))}));case 9:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return h=(0,m.Z)((0,b.Z)().mark((function t(a){var u;return(0,b.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return i.value=!1,n.value={},t.abrupt("return");case 4:return t.next=6,e.dispatch("getSingleMusicSheet",{sheetid:a,userid:"userid-1"});case 6:u=t.sent,n.value=u,i.value=!0;case 9:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function k(e){p.value=e}return g(),(0,a.YP)((function(){return[p.value,u.value]}),(function(){var e=o.value[v.value][4],t=o.value[v.value][0];p.value>e&&v.value++,p.value<t&&v.value--,p.value===r.value&&(v.value=o.value.length-1),g()})),{allMusic:t,musicKind:u,searchInput:l,getMusic:g,totalPages:r,active:s,pagesArr:o,activePagesArr:v,activePage:p,musicDetail:n,showMusicDetail:i,openMusicDetail:d,changeActivePage:k}}};var x=n(89);const K=(0,x.Z)(Z,[["render",D],["__scopeId","data-v-bfc34e7c"]]),I=K}}]);
//# sourceMappingURL=53_'0.1.0'_1684141422327.js.map