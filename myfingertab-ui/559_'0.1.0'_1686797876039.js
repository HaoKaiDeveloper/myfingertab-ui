"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[559],{6559:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var s=n(3396),i=function(e){return(0,s.dD)("data-v-754ac514"),e=e(),(0,s.Cn)(),e},r={class:"swiper_box"},a={class:"news"},l=i((function(){return(0,s._)("p",{class:"title"},"最新消息",-1)})),u={class:"news_cards"},c={class:"popMusic"},o=i((function(){return(0,s._)("p",{class:"title"},"熱門樂譜",-1)})),p={class:"music_cards"};function d(e,t,n,i,d,w){var m=(0,s.up)("ImageSwiper"),v=(0,s.up)("NewsListSwiper"),f=(0,s.up)("MusicCard"),g=(0,s.up)("MusicDetailPopup");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",r,[(0,s.Wm)(m,{imgs:i.swiperImgs},null,8,["imgs"])]),(0,s._)("div",a,[l,(0,s._)("div",u,[(0,s.Wm)(v,{allNews:i.newsList},null,8,["allNews"])])]),(0,s._)("div",c,[o,(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.musicList,(function(e){return(0,s.wg)(),(0,s.j4)(f,{key:e.sheetid,music:e,onOpenMusicDetail:i.openMousiDetail},null,8,["music","onOpenMusicDetail"])})),128))])]),(0,s.Wm)(g,{data:i.musicDetail,show:i.showMusicDetail,onCloseMusicDetail:i.openMousiDetail},null,8,["data","show","onCloseMusicDetail"])])}var w=n(124),m=n(6084),v=n(8534),f=(n(1539),n(8783),n(3948),n(7941),n(8862),n(4916),n(5306),n(65)),g=n(4870),h=n(7783),_=["href"],b=["src"],k={class:"next_btn"},D={class:"prev_btn"};function y(e,t,n,i,r,a){var l=(0,s.up)("swiper-slide"),u=(0,s.up)("swiper");return(0,s.wg)(),(0,s.j4)(u,{spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:i.modules,loop:!0,class:"mySwiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.imgs,(function(e){return(0,s.wg)(),(0,s.j4)(l,{key:e.carouselid},{default:(0,s.w5)((function(){return[(0,s._)("a",{href:e.urls},[(0,s._)("img",{src:e.img,alt:"img"},null,8,b)],8,_)]})),_:2},1024)})),128)),(0,s._)("button",k,[(0,s.Wm)(h.t,{icon:"mdi-chevron-right"})]),(0,s._)("button",D,[(0,s.Wm)(h.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["navigation","modules"])}var M=n(3846),S=n(9032);const I={components:{Swiper:M.tq,SwiperSlide:M.o5},props:["imgs"],setup:function(){return{modules:[S.tl,S.W_,S.pt]}}};var x=n(89);const W=(0,x.Z)(I,[["render",y],["__scopeId","data-v-cdef5df2"]]),Z=W;var C=n(7139),N={class:"titles"},H=["src"],P={class:"news_info"},O={class:"next_btn"},E={class:"prev_btn"};function L(e,t,n,i,r,a){var l=(0,s.up)("router-link"),u=(0,s.up)("swiper-slide"),c=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{slidesPerView:i.slidesPerViewNum,spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:i.modules,loop:!0,class:"mySwiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.allNews,(function(e){return(0,s.wg)(),(0,s.j4)(u,{key:e.newsid,class:"news_card"},{default:(0,s.w5)((function(){return[(0,s._)("p",N,(0,C.zw)(e.titles),1),(0,s.Wm)(l,{to:"/news/".concat(e.newsid)},{default:(0,s.w5)((function(){return[(0,s._)("img",{src:e.thumbnail,alt:"newsImg",class:"news_img"},null,8,H)]})),_:2},1032,["to"]),(0,s._)("div",P,[(0,s._)("p",null,(0,C.zw)(e.des),1)])]})),_:2},1024)})),128)),(0,s._)("button",O,[(0,s.Wm)(h.t,{icon:"mdi-chevron-right"})]),(0,s._)("button",E,[(0,s.Wm)(h.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["slidesPerView","navigation","modules"])])}const j={components:{Swiper:M.tq,SwiperSlide:M.o5},props:["allNews"],setup:function(e){var t=(0,g.iH)(3);return window.innerWidth<700&&(t.value=2),window.innerWidth<500&&(t.value=1),window.addEventListener("resize",(function(e){var n=e.target.innerWidth;n<700&&(t.value=2),n<500&&(t.value=1),n>700&&(t.value=3)})),{modules:[S.tl,S.W_,S.pt],slidesPerViewNum:t}}},A=(0,x.Z)(j,[["render",L],["__scopeId","data-v-48c93ccf"]]),z=A;var V=n(2406),q=n(7459),K=n(2483);const Y={components:{ImageSwiper:Z,NewsListSwiper:z,MusicCard:V.Z,MusicDetailPopup:q.Z},setup:function(){var e=(0,K.yj)(),t=(0,K.tv)(),n=(0,f.oR)(),s=(0,g.iH)([]),i=(0,g.iH)([]),r=(0,g.iH)([]),a=(0,g.iH)(!1),l=(0,g.iH)({});function u(){return c.apply(this,arguments)}function c(){return c=(0,v.Z)((0,w.Z)().mark((function a(){var l,u,c,o,p,d,v,f,g,h,_;return(0,w.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([n.dispatch("getCarouselImgs"),n.dispatch("getAllNews"),n.dispatch("getAllMusic",{pageSize:6,kind:3,page:1,keywords:""})]);case 3:if(l=a.sent,u=(0,m.Z)(l,3),c=u[0],o=u[1],p=u[2],s.value=c,i.value=o,r.value=p.SheetInfo,!(Object.keys(e.query).length>0)){a.next=23;break}if(d=e.fullPath.split("code=")[1].split("&")[0],v=e.fullPath.split("type=")[1].split("&")[0],!d||"facebook"!==v&&"google"!==v){a.next=23;break}return f="facebook"===v?"facebookAuthCheck":"googleAuthCheck",console.log(v,d),a.next=19,n.dispatch("member/".concat(f),d);case 19:g=a.sent,h=g.mbrID,_=g.accessToken,h&&_&&(n.commit("member/setMemberAuthInfo",{mbrID:h,token:_}),localStorage.setItem("member",JSON.stringify({token:_,mbrID:h})),t.replace({path:"/"}));case 23:a.next=29;break;case 25:a.prev=25,a.t0=a["catch"](0),t.replace({path:"/"}),console.log(a.t0);case 29:case"end":return a.stop()}}),a,null,[[0,25]])}))),c.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=(0,v.Z)((0,w.Z)().mark((function e(t){var s;return(0,w.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return a.value=!1,l.value={},e.abrupt("return");case 4:return e.next=6,n.dispatch("getSingleMusicSheet",{sheetid:t});case 6:s=e.sent,l.value=s,a.value=!0;case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return u(),{swiperImgs:s,newsList:i,musicList:r,musicDetail:l,showMusicDetail:a,openMousiDetail:o}}},B=(0,x.Z)(Y,[["render",d],["__scopeId","data-v-754ac514"]]),J=B}}]);
//# sourceMappingURL=559_'0.1.0'_1686797876039.js.map