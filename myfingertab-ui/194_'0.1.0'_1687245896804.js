"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[194],{5194:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K});var a=n(3396),u=n(9242),i=n(7139),c=n(7783),r=function(e){return(0,a.dD)("data-v-71b435b6"),e=e(),(0,a.Cn)(),e},s={id:"sheetMusicPage"},l={class:"header"},o=r((function(){return(0,a._)("p",{class:"title"},"指彈樂譜",-1)})),v={class:"select"},p=r((function(){return(0,a._)("option",{value:"1"},"難易度:簡單到難",-1)})),g=r((function(){return(0,a._)("option",{value:"2"},"難易度:難到簡單",-1)})),h=r((function(){return(0,a._)("option",{value:"3"},"熱門程度",-1)})),f=r((function(){return(0,a._)("option",{value:"4"},"最新上架",-1)})),d=[p,g,h,f],k={for:"search"},w={class:"music_cards"},y={class:"pages_box"},P={key:0,class:"pages"},b=["onClick"];function M(e,t,n,r,p,g){var h=(0,a.up)("MusicCard"),f=(0,a.up)("MusicDetailPopup");return(0,a.wg)(),(0,a.iD)("section",s,[(0,a._)("div",l,[o,(0,a._)("div",v,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.musicKind=e})},d,512),[[u.bM,r.musicKind]])]),(0,a._)("label",k,[(0,a.Uk)("樂譜搜尋 "),(0,a.wy)((0,a._)("input",{type:"text",id:"search","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.searchInput=e}),onKeypress:t[2]||(t[2]=(0,u.D2)((function(){return r.searchMusicSheet&&r.searchMusicSheet.apply(r,arguments)}),["enter"]))},null,544),[[u.nr,r.searchInput]]),(0,a.Wm)(c.t,{icon:"mdi-magnify",class:"icon",onClick:r.searchMusicSheet},null,8,["onClick"])])]),(0,a._)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.allMusic,(function(e){return(0,a.wg)(),(0,a.j4)(h,{key:e.sheetid,music:e,onOpenMusicDetail:r.openMusicDetail},null,8,["music","onOpenMusicDetail"])})),128))]),(0,a.Wm)(f,{data:r.musicDetail,onCloseMusicDetail:r.openMusicDetail},null,8,["data","onCloseMusicDetail"]),(0,a._)("div",y,[r.showPages?((0,a.wg)(),(0,a.iD)("div",P,[r.activePage>=2?((0,a.wg)(),(0,a.iD)("button",{key:0,type:"button",onClick:t[3]||(t[3]=function(e){return r.changeActivePage(r.activePage-1)})}," 上一頁 ")):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.pagesArr[r.activePagesArr],(function(e){return(0,a.wg)(),(0,a.iD)("button",{type:"button",key:e,class:(0,i.C_)({active:r.activePage===e}),onClick:function(t){return r.changeActivePage(e)}},(0,i.zw)(e),11,b)})),128)),r.activePage<r.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",onClick:t[4]||(t[4]=function(e){return r.changeActivePage(r.activePage+1)})}," 下一頁 ")):(0,a.kq)("",!0),r.activePage<r.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:2,type:"button",onClick:t[5]||(t[5]=function(e){return r.changeActivePage(r.totalPages)})}," 最後 ")):(0,a.kq)("",!0)])):(0,a.kq)("",!0),r.activePage<r.totalPages?((0,a.wg)(),(0,a.iD)("button",{key:1,type:"button",class:"loadBtn",onClick:t[6]||(t[6]=function(e){return r.changeActivePage(r.activePage+1)})}," 載入更多 ")):(0,a.kq)("",!0)])])}var D=n(124),m=n(9584),_=n(8534),C=(n(2222),n(7658),n(1038),n(8783),n(7042),n(2406)),H=n(7459),Z=n(4870),A=n(65);const x={components:{MusicCard:C.Z,MusicDetailPopup:H.Z},setup:function(){var e=(0,A.oR)(),t=(0,Z.iH)([]),n=(0,Z.iH)({}),u=(0,Z.iH)(!1),i=(0,Z.iH)("1"),c=(0,Z.iH)(9),r=(0,Z.iH)(""),s=(0,Z.iH)(0),l=(0,Z.iH)(0),o=(0,Z.iH)([]),v=(0,Z.iH)(0),p=(0,Z.iH)(1),g=(0,Z.iH)(!0);function h(){return f.apply(this,arguments)}function f(){return f=(0,_.Z)((0,D.Z)().mark((function n(){var a,u,r;return(0,D.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.dispatch("getAllMusic",{pageSize:c.value,kind:i.value,page:p.value});case 2:for(a=n.sent,window.innerWidth<=550?t.value=[].concat((0,m.Z)(t.value),(0,m.Z)(a.SheetInfo)):t.value=a.SheetInfo,s.value=a.totalpage,g.value=!0,u=[],r=1;r<=s.value;r++)u.push(r);Array.from({length:Math.ceil(s.value/5)},(function(e,t){var n=5*t,a=5*(t+1);o.value.push(u.slice(n,a))}));case 9:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function d(){return k.apply(this,arguments)}function k(){return k=(0,_.Z)((0,D.Z)().mark((function n(){var a;return(0,D.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r.value.length){n.next=2;break}return n.abrupt("return",h());case 2:return n.next=4,e.dispatch("searchMusicSheet",{keyword:r.value});case 4:a=n.sent,t.value=a,s.value=0,g.value=!1;case 8:case"end":return n.stop()}}),n)}))),k.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=(0,_.Z)((0,D.Z)().mark((function t(a){var i;return(0,D.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=4;break}return u.value=!1,n.value={},t.abrupt("return");case 4:return t.next=6,e.dispatch("getSingleMusicSheet",{sheetid:a,userid:"userid-1"});case 6:i=t.sent,n.value=i,u.value=!0;case 9:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function P(e){p.value=e}return h(),(0,a.YP)((function(){return[p.value,i.value]}),(function(){var e=o.value[v.value][4],t=o.value[v.value][0];p.value>e&&v.value++,p.value<t&&v.value--,p.value===s.value&&(v.value=o.value.length-1),h()})),{allMusic:t,musicKind:i,searchInput:r,getMusic:h,searchMusicSheet:d,totalPages:s,active:l,pagesArr:o,activePagesArr:v,activePage:p,musicDetail:n,showMusicDetail:u,openMusicDetail:w,changeActivePage:P,showPages:g}}};var S=n(89);const I=(0,S.Z)(x,[["render",M],["__scopeId","data-v-71b435b6"]]),K=I}}]);
//# sourceMappingURL=194_'0.1.0'_1687245896804.js.map