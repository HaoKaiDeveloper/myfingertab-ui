{"version":3,"file":"382_'0.1.0'_1685003688405.js","mappings":"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","sources":["webpack://myfingertab/./src/views/MemberPages/Forgotpassword.vue","webpack://myfingertab/./src/views/MemberPages/Forgotpassword.vue?8def"],"sourcesContent":["<template>\r\n  <section id=\"forgotpassword\">\r\n    <main>\r\n      <h1>{{ title }}</h1>\r\n      <form v-if=\"!emailExist\" @submit.prevent=\"checkEmailExist\">\r\n        <label for=\"email\">\r\n          Email :\r\n          <input type=\"email\" id=\"email\" v-model=\"email\" />\r\n        </label>\r\n        <p>\r\n          <span v-if=\"msg\">{{ msg }}</span>\r\n        </p>\r\n        <button type=\"submit\">確認</button>\r\n      </form>\r\n\r\n      <form v-else @submit.prevent=\"resetPassword\">\r\n        <label for=\"newPassword\">\r\n          密碼:\r\n          <input type=\"password\" id=\"newPassword\" v-model=\"password\" />\r\n        </label>\r\n        <p>\r\n          <span v-if=\"msg\">{{ msg }}</span>\r\n        </p>\r\n        <button type=\"submit\">確認</button>\r\n      </form>\r\n    </main>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nexport default {\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const store = useStore();\r\n    const title = ref(\"請輸入Eamil\");\r\n    const email = ref(\"\");\r\n    const password = ref(\"\");\r\n    const emailExist = ref(false);\r\n    const msg = ref(\"\");\r\n\r\n    if (Object.keys(route.query).length > 0) {\r\n      emailExist.value = true;\r\n      title.value = \"請重新設定密碼\";\r\n    }\r\n\r\n    async function resetPassword() {\r\n      if (!password.value || !emailExist.value) return;\r\n\r\n      try {\r\n        const res = await store.dispatch(\"member/resetPassword\", {\r\n          token: route.query.token,\r\n          newPassword: password.value,\r\n        });\r\n\r\n        msg.value = res + \"5秒後將重新轉跳\";\r\n        if (res === \"密碼更改成功，請重新登入\") {\r\n          setTimeout(() => {\r\n            title.value = \"請輸入Eamil\";\r\n            emailExist.value = false;\r\n            msg.value = \"\";\r\n            router.push(\"/login\");\r\n          }, 5000);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n    async function checkEmailExist() {\r\n      if (!email.value) return;\r\n      try {\r\n        const res = await store.dispatch(\"member/checkEmailExist\", email.value);\r\n        msg.value = res;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n    watch(\r\n      () => msg.value,\r\n      () => {\r\n        if (msg.value) {\r\n          setTimeout(() => {\r\n            msg.value = \"\";\r\n          }, 2000);\r\n        }\r\n      }\r\n    );\r\n\r\n    return {\r\n      title,\r\n      password,\r\n      email,\r\n      emailExist,\r\n      msg,\r\n      checkEmailExist,\r\n      resetPassword,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\nsection {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 2em;\r\n  width: 90%;\r\n  min-height: 95vh;\r\n  margin: 0 auto;\r\n  color: var(--grey-4);\r\n  padding: 0 0.5em;\r\n  @media screen and (max-width: 1000px) {\r\n    padding: 0 1.5em;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\nmain {\r\n  width: 100%;\r\n  min-width: 250px;\r\n  max-width: 360px;\r\n  box-shadow: var(--shodow-1);\r\n  border-radius: 5px;\r\n  padding: 2em;\r\n  margin-top: 5em;\r\n\r\n  h1 {\r\n    font-size: var(--f-l);\r\n    text-align: center;\r\n  }\r\n\r\n  p {\r\n    height: 10px;\r\n    font-size: var(--f-mi);\r\n    color: blue;\r\n  }\r\n\r\n  button {\r\n    font-size: var(--f-mi);\r\n    display: block;\r\n    width: 10rem;\r\n    border: 1px solid var(--grey-3);\r\n    margin: 1em auto;\r\n    padding: 0.2em 0.5em;\r\n    border-radius: 7px;\r\n  }\r\n\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 2em;\r\n    margin-bottom: 1em;\r\n\r\n    label {\r\n      width: 100%;\r\n      font-size: var(--f-mi);\r\n      letter-spacing: 1.5px;\r\n    }\r\n    input {\r\n      width: 100%;\r\n      outline: none;\r\n      border-bottom: 1px solid var(--grey-3);\r\n      padding: 0.2em 0.5em;\r\n\r\n      &:focus {\r\n        border-bottom: 1px solid var(--d-purple-2);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Forgotpassword.vue?vue&type=template&id=e450f59e&scoped=true\"\nimport script from \"./Forgotpassword.vue?vue&type=script&lang=js\"\nexport * from \"./Forgotpassword.vue?vue&type=script&lang=js\"\n\nimport \"./Forgotpassword.vue?vue&type=style&index=0&id=e450f59e&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\myfingertab-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e450f59e\"]])\n\nexport default __exports__"],"names":["id","for","_createElementVNode","type","_createElementBlock","_hoisted_1","_toDisplayString","$setup","title","emailExist","onSubmit","_cache","_withModifiers","resetPassword","apply","arguments","_hoisted_5","password","$event","msg","_hoisted_6","_hoisted_7","checkEmailExist","_hoisted_2","email","_hoisted_3","_hoisted_4","setup","route","useRoute","router","useRouter","store","useStore","ref","_resetPassword","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","value","abrupt","dispatch","token","query","newPassword","sent","setTimeout","push","t0","console","log","stop","_checkEmailExist","_callee2","_context2","Object","keys","length","watch","__exports__","render"],"sourceRoot":""}