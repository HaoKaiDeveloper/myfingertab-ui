{"version":3,"file":"969_'0.1.0'_1689240258835.js","mappings":"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","sources":["webpack://myfingertab/./src/views/MemberPages/InfoPage/Tab_MySheetMusic.vue","webpack://myfingertab/./src/views/MemberPages/InfoPage/Tab_MySheetMusic.vue?aebc"],"sourcesContent":["<template>\n  <article class=\"mySheetMusic\">\n    <p class=\"title\">我的樂譜</p>\n    <table>\n      <tr>\n        <th>曲名</th>\n        <th>創作者</th>\n        <th>下載連結</th>\n      </tr>\n\n      <tr v-for=\"sheet in sheets\" :key=\"sheet.sheetId\">\n        <td>\n          <span>{{ sheet.sheetName }}</span>\n        </td>\n        <td>{{ sheet.creatornm }}</td>\n        <td>\n          <button type=\"button\" @click=\"downloadSheet(sheet)\">\n            <v-icon icon=\"mdi-download\" />\n          </button>\n        </td>\n      </tr>\n    </table>\n  </article>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { ref, computed } from \"vue\";\n\nexport default {\n  setup(props) {\n    const store = useStore();\n    const sheets = ref([]);\n\n    const menubarAuthInfo = computed(() => {\n      return store.getters[\"member/menubarAuthInfo\"];\n    });\n\n    getPurchasedSheets();\n    async function getPurchasedSheets() {\n      const data = await store.dispatch(\n        \"order/getPurchasedSheets\",\n        menubarAuthInfo.value\n      );\n      if (data) {\n        sheets.value = data;\n      }\n    }\n\n    async function downloadSheet(sheet) {\n      try {\n        const data = await store.dispatch(\"downloadSheet\", {\n          ...menubarAuthInfo.value,\n          sheetId: sheet.sheetId,\n        });\n        const base64String = data;\n        const byteCharacters = atob(base64String);\n        const byteArrays = [];\n\n        for (let offset = 0; offset < byteCharacters.length; offset += 1024) {\n          const slice = byteCharacters.slice(offset, offset + 1024);\n\n          const byteNumbers = new Array(slice.length);\n          for (let i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n          }\n\n          const byteArray = new Uint8Array(byteNumbers);\n          byteArrays.push(byteArray);\n        }\n\n        const blob = new Blob(byteArrays, { type: \"application/pdf\" });\n        const downloadLink = URL.createObjectURL(blob);\n        // 创建下载按钮\n        const button = document.createElement(\"a\");\n        button.href = downloadLink;\n        button.download = `${sheet.sheetName}.pdf`;\n        button.textContent = \"Download PDF\";\n        button.click();\n        // 将按钮添加到页面中\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    return {\n      sheets,\n      downloadSheet,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.mySheetMusic {\n  .title {\n    width: 90%;\n    text-align: left;\n    font-size: var(--f-l);\n    margin: 0 auto;\n  }\n\n  table {\n    width: 90%;\n    text-align: center;\n    border-collapse: collapse;\n    margin: 0 auto;\n    color: var(--grey-4);\n    tr:nth-child(1) {\n      border-bottom: 0.2px solid var(--l-orange-1);\n    }\n    th {\n      height: 5em;\n      font-size: var(--f-mi);\n      padding: 1em;\n    }\n    td {\n      height: 4em;\n      vertical-align: bottom;\n      font-size: var(--f-mi);\n      padding: 1em;\n      letter-spacing: 1.5px;\n    }\n    td:nth-child(1) {\n      text-align: center;\n      span {\n        display: block;\n        color: var(--grey-4);\n      }\n    }\n    button {\n      border: 1px solid var(--l-orange-1);\n      padding: 0.4em calc(2em + 0.5vw);\n      border-radius: 7px;\n      transform: translateY(6px);\n      letter-spacing: 1.5px;\n      font-size: 10px;\n      color: var(--grey-4);\n      &:hover,\n      &:active {\n        background-color: var(--l-orange-1);\n        color: var(--grey-1);\n      }\n    }\n  }\n\n  @media screen and (max-width: 800px) {\n    .title {\n      width: 100%;\n    }\n    table {\n      width: 100%;\n\n      th {\n        padding: 0.7em 0.2em;\n        font-size: 0.8rem;\n      }\n\n      td {\n        height: 4em;\n        padding: 0.7em 0.2em;\n        font-size: 0.7rem;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Tab_MySheetMusic.vue?vue&type=template&id=26dcf55e&scoped=true\"\nimport script from \"./Tab_MySheetMusic.vue?vue&type=script&lang=js\"\nexport * from \"./Tab_MySheetMusic.vue?vue&type=script&lang=js\"\n\nimport \"./Tab_MySheetMusic.vue?vue&type=style&index=0&id=26dcf55e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\myfingertab-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26dcf55e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$setup","sheets","sheet","key","sheetId","_toDisplayString","sheetName","creatornm","type","onClick","$event","downloadSheet","_createVNode","_component_v_icon","icon","setup","props","store","useStore","ref","menubarAuthInfo","computed","getters","getPurchasedSheets","_getPurchasedSheets","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","dispatch","value","sent","stop","_x","_downloadSheet","_callee2","base64String","byteCharacters","byteArrays","offset","slice","byteNumbers","i","byteArray","blob","downloadLink","button","_context2","_objectSpread","atob","length","Array","charCodeAt","Uint8Array","push","Blob","URL","createObjectURL","document","createElement","href","download","concat","textContent","click","t0","console","log","__exports__","render"],"sourceRoot":""}