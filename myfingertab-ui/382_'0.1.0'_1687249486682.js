"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[382],{5382:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(3396),a=n(7139),u=n(9242),i=function(e){return(0,r.dD)("data-v-e450f59e"),e=e(),(0,r.Cn)(),e},s={id:"forgotpassword"},l={for:"email"},o={key:0},c=i((function(){return(0,r._)("button",{type:"submit"},"確認",-1)})),p={for:"newPassword"},m={key:0},f=i((function(){return(0,r._)("button",{type:"submit"},"確認",-1)}));function w(e,t,n,i,w,v){return(0,r.wg)(),(0,r.iD)("section",s,[(0,r._)("main",null,[(0,r._)("h1",null,(0,a.zw)(i.title),1),i.emailExist?((0,r.wg)(),(0,r.iD)("form",{key:1,onSubmit:t[3]||(t[3]=(0,u.iM)((function(){return i.resetPassword&&i.resetPassword.apply(i,arguments)}),["prevent"]))},[(0,r._)("label",p,[(0,r.Uk)(" 密碼: "),(0,r.wy)((0,r._)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.password=e})},null,512),[[u.nr,i.password]])]),(0,r._)("p",null,[i.msg?((0,r.wg)(),(0,r.iD)("span",m,(0,a.zw)(i.msg),1)):(0,r.kq)("",!0)]),f],32)):((0,r.wg)(),(0,r.iD)("form",{key:0,onSubmit:t[1]||(t[1]=(0,u.iM)((function(){return i.checkEmailExist&&i.checkEmailExist.apply(i,arguments)}),["prevent"]))},[(0,r._)("label",l,[(0,r.Uk)(" Email : "),(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.email=e})},null,512),[[u.nr,i.email]])]),(0,r._)("p",null,[i.msg?((0,r.wg)(),(0,r.iD)("span",o,(0,a.zw)(i.msg),1)):(0,r.kq)("",!0)]),c],32))])])}var v=n(124),d=n(8534),k=(n(7941),n(2564),n(7658),n(4870)),h=n(65),y=n(2483);const b={setup:function(){var e=(0,y.yj)(),t=(0,y.tv)(),n=(0,h.oR)(),a=(0,k.iH)("請輸入Eamil"),u=(0,k.iH)(""),i=(0,k.iH)(""),s=(0,k.iH)(!1),l=(0,k.iH)("");function o(){return c.apply(this,arguments)}function c(){return c=(0,d.Z)((0,v.Z)().mark((function r(){var u;return(0,v.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i.value&&s.value){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,n.dispatch("member/resetPassword",{token:e.query.token,newPassword:i.value});case 5:u=r.sent,l.value=u+"5秒後將重新轉跳","密碼更改成功，請重新登入"===u&&setTimeout((function(){a.value="請輸入Eamil",s.value=!1,l.value="",t.push("/login")}),5e3),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](2),console.log(r.t0);case 13:case"end":return r.stop()}}),r,null,[[2,10]])}))),c.apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return m=(0,d.Z)((0,v.Z)().mark((function e(){var t;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n.dispatch("member/checkEmailExist",u.value);case 5:t=e.sent,l.value=t,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),m.apply(this,arguments)}return Object.keys(e.query).length>0&&(s.value=!0,a.value="請重新設定密碼"),(0,r.YP)((function(){return l.value}),(function(){l.value&&setTimeout((function(){l.value=""}),2e3)})),{title:a,password:i,email:u,emailExist:s,msg:l,checkEmailExist:p,resetPassword:o}}};var g=n(89);const x=(0,g.Z)(b,[["render",w],["__scopeId","data-v-e450f59e"]]),E=x}}]);
//# sourceMappingURL=382_'0.1.0'_1687249486682.js.map