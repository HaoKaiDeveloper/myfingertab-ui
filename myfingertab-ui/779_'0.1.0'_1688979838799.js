"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[779],{9779:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i=n(3396),s=function(e){return(0,i.dD)("data-v-2078cf1b"),e=e(),(0,i.Cn)(),e},r={class:"swiper_box"},a={class:"news"},u=s((function(){return(0,i._)("p",{class:"title"},"最新消息",-1)})),l={class:"news_cards"},o={class:"popMusic"},c=s((function(){return(0,i._)("p",{class:"title"},"熱門樂譜",-1)})),p={class:"music_cards"};function d(e,t,n,s,d,m){var w=(0,i.up)("ImageSwiper"),v=(0,i.up)("NewsListSwiper"),f=(0,i.up)("MusicCard"),g=(0,i.up)("MusicDetailPopup");return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("div",r,[(0,i.Wm)(w,{imgs:s.swiperImgs},null,8,["imgs"])]),(0,i._)("div",a,[u,(0,i._)("div",l,[(0,i.Wm)(v,{allNews:s.newsList},null,8,["allNews"])])]),(0,i._)("div",o,[c,(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.musicList,(function(e){return(0,i.wg)(),(0,i.j4)(f,{key:e.sheetid,music:e,onOpenMusicDetail:s.openMousiDetail},null,8,["music","onOpenMusicDetail"])})),128))])]),(0,i.Wm)(g,{data:s.musicDetail,show:s.showMusicDetail,onCloseMusicDetail:s.openMousiDetail},null,8,["data","show","onCloseMusicDetail"])])}var m=n(124),w=n(6084),v=n(5082),f=n(8534),g=(n(1249),n(1539),n(8783),n(3948),n(7941),n(8862),n(4916),n(5306),n(65)),h=n(4870),_=n(7783),b=["href"],k=["src"],D={class:"next_btn"},y={class:"prev_btn"};function Z(e,t,n,s,r,a){var u=(0,i.up)("swiper-slide"),l=(0,i.up)("swiper");return(0,i.wg)(),(0,i.j4)(l,{spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:s.modules,loop:!0,class:"mySwiper"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.imgs,(function(e){return(0,i.wg)(),(0,i.j4)(u,{key:e.carouselid},{default:(0,i.w5)((function(){return[(0,i._)("a",{href:e.urls},[(0,i._)("img",{src:e.img,alt:"img"},null,8,k)],8,b)]})),_:2},1024)})),128)),(0,i._)("button",D,[(0,i.Wm)(_.t,{icon:"mdi-chevron-right"})]),(0,i._)("button",y,[(0,i.Wm)(_.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["navigation","modules"])}var M=n(3846),S=n(9032);const I={components:{Swiper:M.tq,SwiperSlide:M.o5},props:["imgs"],setup:function(e){return{modules:[S.tl,S.W_,S.pt]}}};var x=n(89);const W=(0,x.Z)(I,[["render",Z],["__scopeId","data-v-5a7d2621"]]),C=W;var H=n(7139),N={class:"titles"},P=["src"],E={class:"news_info"},L={class:"next_btn"},O={class:"prev_btn"};function j(e,t,n,s,r,a){var u=(0,i.up)("router-link"),l=(0,i.up)("swiper-slide"),o=(0,i.up)("swiper");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(o,{slidesPerView:s.slidesPerViewNum,spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:s.modules,loop:!0,class:"mySwiper"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.allNews,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.newsid,class:"news_card"},{default:(0,i.w5)((function(){return[(0,i._)("p",N,(0,H.zw)(e.titles),1),(0,i.Wm)(u,{to:"/news/".concat(e.newsid)},{default:(0,i.w5)((function(){return[(0,i._)("img",{src:e.thumbnail,alt:"newsImg",class:"news_img"},null,8,P)]})),_:2},1032,["to"]),(0,i._)("div",E,[(0,i._)("p",null,(0,H.zw)(e.des),1)])]})),_:2},1024)})),128)),(0,i._)("button",L,[(0,i.Wm)(_.t,{icon:"mdi-chevron-right"})]),(0,i._)("button",O,[(0,i.Wm)(_.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["slidesPerView","navigation","modules"])])}const z={components:{Swiper:M.tq,SwiperSlide:M.o5},props:["allNews"],setup:function(e){var t=(0,h.iH)(3);return window.innerWidth<700&&(t.value=2),window.innerWidth<500&&(t.value=1),window.addEventListener("resize",(function(e){var n=e.target.innerWidth;n<700&&(t.value=2),n<500&&(t.value=1),n>700&&(t.value=3)})),{modules:[S.tl,S.W_,S.pt],slidesPerViewNum:t}}},A=(0,x.Z)(z,[["render",j],["__scopeId","data-v-48c93ccf"]]),V=A;var q=n(2406),K=n(2533),Y=n(2483);const B={components:{ImageSwiper:C,NewsListSwiper:V,MusicCard:q.Z,MusicDetailPopup:K.Z},setup:function(){var e=(0,Y.yj)(),t=(0,Y.tv)(),n=(0,g.oR)(),i=(0,h.iH)([]),s=(0,h.iH)([]),r=(0,h.iH)([]),a=(0,h.iH)([]),u=(0,h.iH)(!1),l=(0,h.iH)({});function o(){return c.apply(this,arguments)}function c(){return c=(0,f.Z)((0,m.Z)().mark((function s(){var u,l,o,c,p,d,v,f,g,h,b;return(0,m.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Promise.all([n.dispatch("getCarouselImgs"),n.dispatch("getAllNews"),n.dispatch("getAllMusic",{pageSize:6,kind:3,page:1,keywords:""})]);case 3:if(u=s.sent,l=(0,w.Z)(u,3),o=l[0],c=l[1],p=l[2],i.value=o,r.value=c,a.value=p.SheetInfo,_(),!(Object.keys(e.query).length>0)){s.next=24;break}if(d=e.fullPath.split("code=")[1].split("&")[0],v=e.fullPath.split("type=")[1].split("&")[0],!d||"facebook"!==v&&"google"!==v){s.next=24;break}return f="facebook"===v?"facebookAuthCheck":"googleAuthCheck",console.log(v,d),s.next=20,n.dispatch("member/".concat(f),d);case 20:g=s.sent,h=g.mbrID,b=g.accessToken,h&&b&&(n.commit("member/setMemberAuthInfo",{mbrID:h,token:b}),localStorage.setItem("member",JSON.stringify({token:b,mbrID:h})),t.replace({path:"/"}));case 24:s.next=30;break;case 26:s.prev=26,s.t0=s["catch"](0),t.replace({path:"/"}),console.log(s.t0);case 30:case"end":return s.stop()}}),s,null,[[0,26]])}))),c.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return d=(0,f.Z)((0,m.Z)().mark((function e(t){var i;return(0,m.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return u.value=!1,l.value={},e.abrupt("return");case 4:return e.next=6,n.dispatch("getSingleMusicSheet",{sheetid:t});case 6:i=e.sent,l.value=i,u.value=!0;case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function _(){window.innerWidth<=700?s.value=i.value.map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{img:e.smallimg})})):s.value=i.value.map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{img:e.img})})),window.addEventListener("resize",(function(){window.innerWidth<=700?s.value=i.value.map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{img:e.smallimg})})):s.value=i.value.map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{img:e.img})}))}))}return o(),{initSwiperImgs:i,swiperImgs:s,newsList:r,musicList:a,musicDetail:l,showMusicDetail:u,openMousiDetail:p}}},J=(0,x.Z)(B,[["render",d],["__scopeId","data-v-2078cf1b"]]),R=J}}]);
//# sourceMappingURL=779_'0.1.0'_1688979838799.js.map