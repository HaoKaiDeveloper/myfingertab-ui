"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[265],{7265:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var s=n(3396),i=function(e){return(0,s.dD)("data-v-43dbb49c"),e=e(),(0,s.Cn)(),e},r={class:"swiper_box"},a={class:"news"},l=i((function(){return(0,s._)("p",{class:"title"},"最新消息",-1)})),u={class:"news_cards"},o={class:"popMusic"},c=i((function(){return(0,s._)("p",{class:"title"},"熱門樂譜",-1)})),p={class:"music_cards"};function d(e,t,n,i,d,w){var m=(0,s.up)("ImageSwiper"),v=(0,s.up)("NewsListSwiper"),f=(0,s.up)("MusicCard"),g=(0,s.up)("MusicDetailPopup");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",r,[(0,s.Wm)(m,{imgs:i.swiperImgs},null,8,["imgs"])]),(0,s._)("div",a,[l,(0,s._)("div",u,[(0,s.Wm)(v,{allNews:i.newsList},null,8,["allNews"])])]),(0,s._)("div",o,[c,(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.musicList,(function(e){return(0,s.wg)(),(0,s.j4)(f,{key:e.sheetid,music:e,onOpenMusicDetail:i.openMousiDetail},null,8,["music","onOpenMusicDetail"])})),128))])]),(0,s.Wm)(g,{data:i.musicDetail,show:i.showMusicDetail,onCloseMusicDetail:i.openMousiDetail},null,8,["data","show","onCloseMusicDetail"])])}var w=n(124),m=n(5082),v=n(6084),f=n(8534),g=(n(1539),n(8783),n(3948),n(1249),n(7941),n(8862),n(4916),n(5306),n(65)),h=n(4870),_=n(7783),b=["href"],k=["src"],D={class:"next_btn"},y={class:"prev_btn"};function M(e,t,n,i,r,a){var l=(0,s.up)("swiper-slide"),u=(0,s.up)("swiper");return(0,s.wg)(),(0,s.j4)(u,{spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:i.modules,loop:!0,class:"mySwiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.imgs,(function(e){return(0,s.wg)(),(0,s.j4)(l,{key:e.carouselid},{default:(0,s.w5)((function(){return[(0,s._)("a",{href:e.urls},[(0,s._)("img",{src:e.img,alt:"img"},null,8,k)],8,b)]})),_:2},1024)})),128)),(0,s._)("button",D,[(0,s.Wm)(_.t,{icon:"mdi-chevron-right"})]),(0,s._)("button",y,[(0,s.Wm)(_.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["navigation","modules"])}var S=n(3846),I=n(9032);const x={components:{Swiper:S.tq,SwiperSlide:S.o5},props:["imgs"],setup:function(e){return{modules:[I.tl,I.W_,I.pt]}}};var W=n(89);const Z=(0,W.Z)(x,[["render",M],["__scopeId","data-v-5a7d2621"]]),C=Z;var N=n(7139),H={class:"titles"},P=["src"],O={class:"news_info"},E={class:"next_btn"},L={class:"prev_btn"};function j(e,t,n,i,r,a){var l=(0,s.up)("router-link"),u=(0,s.up)("swiper-slide"),o=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{slidesPerView:i.slidesPerViewNum,spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:i.modules,loop:!0,class:"mySwiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.allNews,(function(e){return(0,s.wg)(),(0,s.j4)(u,{key:e.newsid,class:"news_card"},{default:(0,s.w5)((function(){return[(0,s._)("p",H,(0,N.zw)(e.titles),1),(0,s.Wm)(l,{to:"/news/".concat(e.newsid)},{default:(0,s.w5)((function(){return[(0,s._)("img",{src:e.thumbnail,alt:"newsImg",class:"news_img"},null,8,P)]})),_:2},1032,["to"]),(0,s._)("div",O,[(0,s._)("p",null,(0,N.zw)(e.des),1)])]})),_:2},1024)})),128)),(0,s._)("button",E,[(0,s.Wm)(_.t,{icon:"mdi-chevron-right"})]),(0,s._)("button",L,[(0,s.Wm)(_.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["slidesPerView","navigation","modules"])])}const A={components:{Swiper:S.tq,SwiperSlide:S.o5},props:["allNews"],setup:function(e){var t=(0,h.iH)(3);return window.innerWidth<700&&(t.value=2),window.innerWidth<500&&(t.value=1),window.addEventListener("resize",(function(e){var n=e.target.innerWidth;n<700&&(t.value=2),n<500&&(t.value=1),n>700&&(t.value=3)})),{modules:[I.tl,I.W_,I.pt],slidesPerViewNum:t}}},z=(0,W.Z)(A,[["render",j],["__scopeId","data-v-48c93ccf"]]),V=z;var q=n(2406),K=n(6250),Y=n(2483);const B={components:{ImageSwiper:C,NewsListSwiper:V,MusicCard:q.Z,MusicDetailPopup:K.Z},setup:function(){var e=(0,Y.yj)(),t=(0,Y.tv)(),n=(0,g.oR)(),s=(0,h.iH)([]),i=(0,h.iH)([]),r=(0,h.iH)([]),a=(0,h.iH)(!1),l=(0,h.iH)({});function u(){return o.apply(this,arguments)}function o(){return o=(0,f.Z)((0,w.Z)().mark((function a(){var l,u,o,c,p,d,f,g,h,_,b;return(0,w.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([n.dispatch("getCarouselImgs"),n.dispatch("getAllNews"),n.dispatch("getAllMusic",{pageSize:6,kind:3,page:1,keywords:""})]);case 3:if(l=a.sent,u=(0,v.Z)(l,3),o=u[0],c=u[1],p=u[2],s.value=o,i.value=c,r.value=p.SheetInfo,window.innerWidth<=700&&(s.value=o.map((function(e){return(0,m.Z)((0,m.Z)({},e),{},{img:e.smallimg})}))),!(Object.keys(e.query).length>0)){a.next=24;break}if(d=e.fullPath.split("code=")[1].split("&")[0],f=e.fullPath.split("type=")[1].split("&")[0],!d||"facebook"!==f&&"google"!==f){a.next=24;break}return g="facebook"===f?"facebookAuthCheck":"googleAuthCheck",console.log(f,d),a.next=20,n.dispatch("member/".concat(g),d);case 20:h=a.sent,_=h.mbrID,b=h.accessToken,_&&b&&(n.commit("member/setMemberAuthInfo",{mbrID:_,token:b}),localStorage.setItem("member",JSON.stringify({token:b,mbrID:_})),t.replace({path:"/"}));case 24:a.next=30;break;case 26:a.prev=26,a.t0=a["catch"](0),t.replace({path:"/"}),console.log(a.t0);case 30:case"end":return a.stop()}}),a,null,[[0,26]])}))),o.apply(this,arguments)}function c(e){return p.apply(this,arguments)}function p(){return p=(0,f.Z)((0,w.Z)().mark((function e(t){var s;return(0,w.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return a.value=!1,l.value={},e.abrupt("return");case 4:return e.next=6,n.dispatch("getSingleMusicSheet",{sheetid:t});case 6:s=e.sent,l.value=s,a.value=!0;case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return u(),{swiperImgs:s,newsList:i,musicList:r,musicDetail:l,showMusicDetail:a,openMousiDetail:c}}},J=(0,W.Z)(B,[["render",d],["__scopeId","data-v-43dbb49c"]]),R=J}}]);
//# sourceMappingURL=265_'0.1.0'_1687844065511.js.map