"use strict";(self["webpackChunkmyfingertab"]=self["webpackChunkmyfingertab"]||[]).push([[436],{3436:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var s=n(3396),i=function(e){return(0,s.dD)("data-v-5fcdb535"),e=e(),(0,s.Cn)(),e},r={class:"swiper_box"},a={class:"news"},u=i((function(){return(0,s._)("p",{class:"title"},"最新消息",-1)})),l={class:"news_cards"},c={class:"popMusic"},o=i((function(){return(0,s._)("p",{class:"title"},"熱門樂譜",-1)})),p={class:"music_cards"};function d(e,t,n,i,d,w){var m=(0,s.up)("ImageSwiper"),f=(0,s.up)("NewsListSwiper"),v=(0,s.up)("MusicCard"),g=(0,s.up)("MusicDetailPopup");return(0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("div",r,[(0,s.Wm)(m,{imgs:i.swiperImgs},null,8,["imgs"])]),(0,s._)("div",a,[u,(0,s._)("div",l,[(0,s.Wm)(f,{allNews:i.newsList},null,8,["allNews"])])]),(0,s._)("div",c,[o,(0,s._)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.musicList,(function(e){return(0,s.wg)(),(0,s.j4)(v,{key:e.sheetid,music:e,onOpenMusicDetail:i.openMousiDetail},null,8,["music","onOpenMusicDetail"])})),128))])]),(0,s.Wm)(g,{data:i.musicDetail,show:i.showMusicDetail,onCloseMusicDetail:i.openMousiDetail},null,8,["data","show","onCloseMusicDetail"])])}var w=n(124),m=n(6084),f=n(8534),v=(n(1539),n(8783),n(3948),n(7941),n(9826),n(6755),n(8862),n(4916),n(5306),n(65)),g=n(4870),h=["src"];function _(e,t,n,i,r,a){var u=(0,s.up)("swiper-slide"),l=(0,s.up)("swiper");return(0,s.wg)(),(0,s.j4)(l,{modules:i.modules,"space-between":10,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},loop:!0,class:"swiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.imgs,(function(e){return(0,s.wg)(),(0,s.j4)(u,{key:e.carouselid},{default:(0,s.w5)((function(){return[(0,s._)("img",{src:e.img,alt:"img",class:"img_box"},null,8,h)]})),_:2},1024)})),128))]})),_:1},8,["modules"])}var b=n(9032),k=n(3846);const D={components:{Swiper:k.tq,SwiperSlide:k.o5},props:{imgs:{type:[Array]}},setup:function(){return{modules:[b.tl,b.pt]}}};var y=n(89);const M=(0,y.Z)(D,[["render",_],["__scopeId","data-v-a44a2a8c"]]),I=M;var S=n(7139),x=n(7783),W=["src"],Z={class:"news_info"},N={class:"next_btn"},C={class:"prev_btn"};function H(e,t,n,i,r,a){var u=(0,s.up)("router-link"),l=(0,s.up)("swiper-slide"),c=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{slidesPerView:i.slidesPerViewNum,spaceBetween:30,navigation:{prevEl:".prev_btn",nextEl:".next_btn"},autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMounseEnter:!0},modules:i.modules,class:"mySwiper"},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.allNews,(function(e){return(0,s.wg)(),(0,s.j4)(l,{key:e.newsid,class:"news_card"},{default:(0,s.w5)((function(){return[(0,s.Wm)(u,{to:"/news/".concat(e.newsid)},{default:(0,s.w5)((function(){return[(0,s._)("img",{src:e.thumbnail,alt:"newsImg",class:"news_img"},null,8,W)]})),_:2},1032,["to"]),(0,s._)("div",Z,[(0,s._)("p",null,(0,S.zw)(e.title),1),(0,s._)("p",null,(0,S.zw)(e.startdt)+" - "+(0,S.zw)(e.enddt),1),(0,s._)("p",null,(0,S.zw)(e.des),1)])]})),_:2},1024)})),128)),(0,s._)("button",N,[(0,s.Wm)(x.t,{icon:"mdi-chevron-right"})]),(0,s._)("button",C,[(0,s.Wm)(x.t,{icon:"mdi-chevron-left"})])]})),_:1},8,["slidesPerView","navigation","modules"])])}const O={components:{Swiper:k.tq,SwiperSlide:k.o5},props:["allNews"],setup:function(){var e=(0,g.iH)(3);return window.innerWidth<700&&(e.value=2),window.innerWidth<500&&(e.value=1),window.addEventListener("resize",(function(t){var n=t.target.innerWidth;n<700&&(e.value=2),n<500&&(e.value=1),n>700&&(e.value=3)})),{modules:[b.tl,b.W_,b.pt],slidesPerViewNum:e}}},P=(0,y.Z)(O,[["render",H],["__scopeId","data-v-f99341da"]]),L=P;var j=n(1935),z=n(1705),E=n(2483);const A={components:{ImageSwiper:I,NewsListSwiper:L,MusicCard:j.Z,MusicDetailPopup:z.Z},setup:function(){var e=(0,E.yj)(),t=(0,E.tv)(),n=(0,v.oR)(),s=(0,g.iH)([]),i=(0,g.iH)([]),r=(0,g.iH)([]),a=(0,g.iH)(!1),u=(0,g.iH)({});function l(){return c.apply(this,arguments)}function c(){return c=(0,f.Z)((0,w.Z)().mark((function a(){var u,l,c,o,p,d,f,v,g,h;return(0,w.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Promise.all([n.dispatch("getCarouselImgs"),n.dispatch("getAllNews"),n.dispatch("getAllMusic",{pageSize:6,kind:3,page:1,keywords:""})]);case 3:if(u=a.sent,l=(0,m.Z)(u,3),c=l[0],o=l[1],p=l[2],s.value=c,i.value=o,r.value=p.SheetInfo,!(Object.keys(e.query).length>0)){a.next=23;break}if(d=e.fullPath.split("?"),f=d.find((function(e){return e.startsWith("token")})),!f){a.next=23;break}return f=f.split("=")[1],a.next=18,n.dispatch("member/authCheck",f);case 18:v=a.sent,g=v.mbrID,h=v.accessToken,g&&h&&(n.commit("member/setMemberAuthInfo",{mbrID:g,token:h}),localStorage.setItem("member",JSON.stringify({token:h,mbrID:g}))),t.replace("/");case 23:a.next=29;break;case 25:a.prev=25,a.t0=a["catch"](0),t.replace("/"),console.log(a.t0);case 29:case"end":return a.stop()}}),a,null,[[0,25]])}))),c.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=(0,f.Z)((0,w.Z)().mark((function e(t){var s;return(0,w.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return a.value=!1,u.value={},e.abrupt("return");case 4:return e.next=6,n.dispatch("getSingleMusicSheet",{sheetid:t});case 6:s=e.sent,u.value=s,a.value=!0;case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return l(),{swiperImgs:s,newsList:i,musicList:r,musicDetail:u,showMusicDetail:a,openMousiDetail:o}}},V=(0,y.Z)(A,[["render",d],["__scopeId","data-v-5fcdb535"]]),q=V}}]);
//# sourceMappingURL=436_'0.1.0'_1684746912121.js.map